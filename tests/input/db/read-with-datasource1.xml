<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE log4j:configuration>

<log4j:configuration xmlns:log4j='http://logging.apache.org/' debug="true">
	  
  <substitutionProperty file="input/db/db.properties"/>

  <!-- We create a joran rule that will instance and bind the appropriate
       data source instance to JNDI. -->   
  <newRule pattern="log4j:configuration/bindDataSourceToJNDI" 
           actionClass="org.apache.log4j.db.BindDataSourceToJNDIAction"/>
  	    
  <bindDataSourceToJNDI />
	    
  <plugin name="DBPlugin" class="org.apache.log4j.db.DBReceiver">
     <connectionSource class="org.apache.log4j.db.DataSourceConnectionSource">
       
       <dataSource class="${dataSourceClass}">
         <param name="${url-key:-url}" value="${url}"/>
         <param name="serverName" value="${serverName}"/>
         <param name="databaseName" value="${databaseName}"/>          
       </dataSource>
       
       <param name="user" value="${user}"/>
       <param name="password" value="${password}"/>
     </connectionSource>
  </plugin>
  

  <appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender">
     <layout class="org.apache.log4j.PatternLayout">
       <param name="ConversionPattern" value="READING %relative %level %logger - %message%n"/>
     </layout>
  </appender>
  
  <appender name="VECTOR" class="org.apache.log4j.VectorAppender">
  </appender>
  
  <root>
    <level value="debug"/>
    <appender-ref ref="VECTOR" />
    <appender-ref ref="CONSOLE" />
  </root>  
</log4j:configuration>



